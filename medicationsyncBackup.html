<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‚ú® Medication Reminder & Calendar Tracker</title>
  <style>
    :root {
      --main-bg: #0B0F14;
      --card-bg: #121820;
      --highlight-bg: #162029;
      --primary: #00CFFF;
      --secondary: #FF4F5E;
      --text-color: #B0C7D1;
      --text-muted: #7A8C98;
      --card-border: #1A2B3A;
      --card-shadow: 0 4px 20px rgba(0, 207, 255, 0.2);
      --input-bg: #1A1F25;
      --input-border: #2B3A45;
      --hover-glow: 0 0 12px rgba(0, 207, 255, 0.4);
      --focus-ring: 0 0 0 3px rgba(0, 207, 255, 0.5);
      --disabled-opacity: 0.4;
      --transition-fast: 0.25s ease;
      --radius-lg: 16px;
      --radius-sm: 8px;
      --scrollbar-thumb: rgba(0, 207, 255, 0.4);
      --scrollbar-track: rgba(255, 255, 255, 0.05);
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: var(--main-bg);
      color: var(--text-color);
      background-image: url(background.png);
      background-size: cover;
      background-repeat: no-repeat;
      overflow-x: hidden;
    }

    #medication-calendar-section {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      padding: 2rem;
      justify-content: center;
      background: var(--main-bg);
      color: var(--text-color);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    #medication-calendar-section .medication-section,
    #medication-calendar-section .calendar-wrapper {
      background: var(--card-bg);
      padding: 1rem 2rem;
      border-radius: var(--radius-lg);
      box-shadow: var(--card-shadow);
      flex: 1 1 500px;
      max-width: 600px;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    }

    #medication-calendar-section .medication-section {
      height: 650px;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    #medication-calendar-section > .medication-section:hover,
    #medication-calendar-section .calendar-wrapper:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 30px rgba(0, 207, 255, 0.25);
    }

    #medication-calendar-section h2 {
      color: var(--primary);
      margin-bottom: 1rem;
      font-size: 1.75rem;
    }

    #medication-section .medication-content {
    display: flex;
    gap: 1rem;
    flex-grow: 1;
    height: 100%;
  }

  #medicationForm, 
  #reminderDetails {
    flex: 1;
    display: flex;
    flex-direction: column;
    max-height: 100%;
  }

  #reminderDetails {
    overflow-y: auto;
  }


    #medication-calendar-section label {
      color: var(--text-muted);
      margin-top: 0.5rem;
      display: block;
      font-size: 0.95rem;
    }

    #medication-calendar-section input,
    #medication-calendar-section textarea,
    #medication-calendar-section button,
    #medication-calendar-section select {
      width: 100%;
      margin-top: 0.25rem;
      margin-bottom: 0.75rem;
      padding: 0.5rem 0.65rem;
      background: var(--input-bg);
      border: 1px solid var(--input-border);
      border-radius: var(--radius-sm);
      color: var(--text-color);
      font-size: 0.95rem;
      transition: var(--transition-fast);
      box-sizing: border-box;
    }

    #medication-calendar-section input:focus,
    #medication-calendar-section textarea:focus,
    #medication-calendar-section select:focus {
      outline: none;
      box-shadow: var(--focus-ring);
    }

    #medication-calendar-section button {
      background-color: var(--primary);
      color: #000;
      font-weight: bold;
      cursor: pointer;
      border: none;
      border-radius: var(--radius-sm);
      transition: background 0.2s, box-shadow 0.2s;
    }

    #medication-calendar-section button:hover {
      box-shadow: var(--hover-glow);
    }

    #medication-calendar-section .reminderDetails {
      margin-top: 1rem;
      padding: 0.75rem;
      border: 1px solid var(--card-border);
      border-radius: var(--radius-sm);
      flex-grow: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      background: var(--highlight-bg);
      scrollbar-width: thin;
      scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
    }

    #medication-calendar-section .reminderDetails::-webkit-scrollbar {
      width: 8px;
    }

    #medication-calendar-section .reminderDetails::-webkit-scrollbar-thumb {
      background-color: var(--scrollbar-thumb);
      border-radius: var(--radius-sm);
    }

    #medication-calendar-section .reminderDetails::-webkit-scrollbar-track {
      background-color: var(--scrollbar-track);
    }

    #medication-calendar-section .reminder-entry {
      background: linear-gradient(135deg, #1e2a36 0%, #202e3c 100%);
      padding: 0.6rem;
      border-radius: var(--radius-sm);
      border-left: 3px solid var(--primary);
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      font-size: 0.85rem;
      min-height: 80px;
      transition: background 0.3s;
    }

    #medication-calendar-section .reminder-entry:hover {
      background: var(--highlight-bg);
    }

    #medication-calendar-section .reminder-entry .note {
      color: var(--text-color);
      word-break: break-word;
      font-weight: 500;
    }

    #medication-calendar-section .reminder-entry .time {
      font-size: 0.75rem;
      color: var(--text-muted);
      text-align: right;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 0.3rem;
    }

    #medication-calendar-section .reminder-entry .delete-btn {
      background: var(--secondary);
      border: none;
      color: white;
      font-size: 0.75rem;
      padding: 0.3rem 0.6rem;
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: transform 0.2s;
    }

    #medication-calendar-section .reminder-entry .delete-btn:hover {
      transform: scale(1.05);
    }

    #medication-calendar-section .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
    }

    #medication-calendar-section .calendar-day {
      height: 80px;
      background: #1c2732;
      border-radius: var(--radius-sm);
      padding: 0.5rem;
      font-size: 0.9rem;
      position: relative;
      cursor: pointer;
      display: flex;
      align-items: flex-start;
      justify-content: flex-start;
      transition: var(--transition-fast);
      border: 1px solid transparent;
    }

    #medication-calendar-section .calendar-day:hover {
      background: var(--highlight-bg);
      border-color: var(--primary);
      transform: scale(1.03);
    }

    #medication-calendar-section .calendar-day.has-reminder::after {
      content: "\1F48A";
      position: absolute;
      top: 6px;
      right: 8px;
      font-size: 1rem;
      color: var(--secondary);
    }

    #medication-calendar-section #clearReminder {
      display: nne;
      background: var(--secondary);
      color: white;
      margin-top: 0.75rem;
    }

    @media (max-width: 768px) {
      #medication-calendar-section {
        flex-direction: column;
        padding: 1rem;
      }

      #medication-calendar-section > #medication-section,
      #medication-calendar-section .calendar-wrapper {
        max-width: 100%;
        padding: 1rem;
      }

      #medication-calendar-section .reminder-entry {
        grid-template-columns: 1fr;
      }

      #medication-calendar-section .reminder-entry .time {
        flex-direction: column;
        align-items: flex-start;
      }

      #medication-calendar-section .calendar {
        grid-template-columns: repeat(7, minmax(35px, 1fr));
      }

      #medication-calendar-section .calendar-day {
        height: 70px;
        font-size: 0.75rem;
      }
    }

  </style>
</head>
<body>
  <section id="medication-calendar-section" class="tool-card">
      <div class="medication-section" >
          <h2>ü©∫ Medication Reminder</h2>

          <div class="medication-content">
              <form id="medicationForm">
                  <label for="reminderStartDate">Start Date:</label>
                  <input type="date" id="reminderStartDate" required/>

                  <label for="reminderEndDate">End Date:</label>
                  <input type="date" id="reminderEndDate" required/>

                  <label for="reminderTime">Time:</label>
                  <input type="time" id="reminderTime" required/>

                  <label for="reminderNote">Note:</label>
                  <textarea placeholder="ü™∞Take aspirin..." id="reminderNote" required></textarea>

                  <button type="submit">‚ûï Add Reminder</button>
                  
              </form>

              <div id="reminderDetails" class="reminderDetails">
                  <!-- Reminder Lists Here -->
              </div>
              <button id="clearReminder">‚ùå Clear Reminder</button>
          </div>
          
      </div>

      <!-- Calendar -->
      <div class="calendar-wrapper">
          <h2>üóìÔ∏è Calendar Tracker</h2>
          <label for="monthSelect">Month:</label>
          <select id="monthSelect"></select>
          <div id="calendar" class="calendar"></div>
      </div>
  </section>


  <script>
    const calendar = document.getElementById("calendar");
    const reminderDetails = document.getElementById("reminderDetails");
    const clearBtn = document.getElementById("clearReminder");
    const monthSelect = document.getElementById("monthSelect");
    const startInput = document.getElementById("reminderStartDate");
    const endInput = document.getElementById("reminderEndDate");

    const months = ["January", "February", "March", "April", "May", "June", "July",
                    "August", "September", "October", "November", "December"];
    let currentYear = new Date().getFullYear();
    let currentMonth = new Date().getMonth();

    months.forEach((month, idx) => {
      const option = document.createElement("option");
      option.value = idx;
      option.text = month;
      if (idx === currentMonth) option.selected = true;
      monthSelect.appendChild(option);
    });

    monthSelect.addEventListener("change", () => {
      currentMonth = parseInt(monthSelect.value);
      generateCalendar();
    });

    startInput.addEventListener("change", () => {
      endInput.min = startInput.value;
    });

    function saveReminder(start, end, time, note) {
      const reminders = JSON.parse(localStorage.getItem("calendarReminders")) || {};
      let date = new Date(start);
      const endDate = new Date(end);
      while (date <= endDate) {
        const key = date.toISOString().split("T")[0];
        if (!reminders[key]) reminders[key] = [];
        reminders[key].push({ time, note });
        date.setDate(date.getDate() + 1);
      }
      localStorage.setItem("calendarReminders", JSON.stringify(reminders));
    }

    function generateCalendar() {
      calendar.innerHTML = "";
      const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
      for (let day = 1; day <= daysInMonth; day++) {
        const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
        const dayEl = document.createElement("div");
        dayEl.className = "calendar-day";
        dayEl.dataset.date = dateStr;
        dayEl.textContent = day;
        dayEl.onclick = () => showReminder(dateStr);
        calendar.appendChild(dayEl);
      }
      markCalendarDays();
    }

    function markCalendarDays() {
      const reminders = JSON.parse(localStorage.getItem("calendarReminders")) || {};
      Object.keys(reminders).forEach(date => {
        const cell = document.querySelector(`[data-date='${date}']`);
        if (cell) cell.classList.add("has-reminder");
      });
    }

    function showReminder(date) {
      const reminders = JSON.parse(localStorage.getItem("calendarReminders")) || {};
      if (reminders[date]) {
        reminderDetails.innerHTML = reminders[date].map((r, i) => `
          <div class="reminder-entry">
            <span class="note">${r.note}</span>
            <span class="time">‚è∞ ${r.time} 
              <button class="delete-btn" onclick="deleteReminder('${date}', ${i})">Remove</button>
            </span>
          </div>
        `).join("");
        clearBtn.style.display = "block";
        clearBtn.onclick = () => {
          delete reminders[date];
          localStorage.setItem("calendarReminders", JSON.stringify(reminders));
          reminderDetails.innerHTML = "";
          clearBtn.style.display = "none";
          generateCalendar();
        };
      } else {
        reminderDetails.innerHTML = "<p>üí≠ No reminders</p>";
        clearBtn.style.display = "none";
      }
    }

    function deleteReminder(date, index) {
      const reminders = JSON.parse(localStorage.getItem("calendarReminders")) || {};
      if (reminders[date]) {
        reminders[date].splice(index, 1);
        if (reminders[date].length === 0) delete reminders[date];
        localStorage.setItem("calendarReminders", JSON.stringify(reminders));
        showReminder(date);
        generateCalendar();
      }
    }

    document.getElementById("medicationForm").addEventListener("submit", e => {
      e.preventDefault();
      const start = startInput.value;
      const end = endInput.value;
      const time = document.getElementById("reminderTime").value;
      const note = document.getElementById("reminderNote").value;
      saveReminder(start, end, time, note);
      e.target.reset();
      generateCalendar();
    });

    window.addEventListener("DOMContentLoaded", generateCalendar);
  </script>
</body>
</html>
